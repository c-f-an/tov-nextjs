# 👤 회원 기능 (Member Features)

## 📋 개요

로그인한 일반 회원(USER 권한)이 사용할 수 있는 기능들에 대한 명세입니다.

## 🏠 마이페이지 (`/mypage`)

### 대시보드
- **회원 정보 요약**
  - 프로필 사진 및 기본 정보
  - 가입일, 최근 접속일
  - 회원 등급/상태

- **활동 내역 요약**
  - 최근 상담 신청 (3건)
  - 최근 후원 내역 (3건)
  - 작성한 댓글 (5건)

- **빠른 메뉴**
  - 프로필 수정
  - 상담 신청
  - 후원하기
  - 비밀번호 변경

### 프로필 관리

#### 개인정보 수정
| 필드 | 수정 가능 | 검증 규칙 |
|------|-----------|-----------|
| 이메일 | ❌ | 변경 불가 (고유값) |
| 비밀번호 | ✅ | 현재 비밀번호 확인 필요 |
| 이름 | ✅ | 2-50자, 한글/영문 |
| 연락처 | ✅ | 휴대폰 번호 형식 |
| 교회명 | ✅ | 최대 100자 |
| 직분 | ✅ | 최대 50자 |
| 교단 | ✅ | 최대 50자 |
| 프로필 사진 | ✅ | 최대 2MB, JPG/PNG |

#### 비밀번호 변경
1. 현재 비밀번호 입력
2. 새 비밀번호 입력 (8자 이상)
3. 새 비밀번호 확인
4. 변경 완료 → 보안 알림 이메일 발송

#### 알림 설정
- **이메일 알림**
  - [ ] 상담 답변 알림
  - [ ] 후원 관련 알림
  - [ ] 뉴스레터 구독
  - [ ] 이벤트/공지사항

- **SMS 알림** (향후 구현)
  - [ ] 중요 알림만
  - [ ] 모든 알림

## 💼 상담 관리

### 내 상담 목록
- **목록 표시 항목**
  - 상담 번호
  - 상담 분야
  - 제목
  - 신청일
  - 상태 (대기중/진행중/완료/취소)
  - 담당자

- **필터 및 검색**
  - 상태별 필터
  - 기간 검색
  - 키워드 검색

### 상담 상세 보기
- **상담 정보**
  - 상담 내용 전문
  - 첨부 파일
  - 신청 정보

- **진행 상황**
  - 현재 상태
  - 처리 이력
  - 담당자 정보

- **상담 답변**
  - 답변 내용
  - 답변 일시
  - 첨부 자료

### 상담 신청 (`/consultation/apply`)
- **신청 가능 여부 체크**
  - 로그인 필수
  - 진행 중인 상담 개수 제한 (5건)

- **신청 프로세스**
  1. 상담 분야 선택
  2. 상담 내용 작성
  3. 파일 첨부 (선택)
  4. 희망 일정 선택
  5. 개인정보 동의
  6. 신청 완료

### 상담 취소
- **취소 가능 조건**
  - 상태가 '대기중'인 경우만
  - 신청 후 24시간 이내

- **취소 프로세스**
  1. 취소 사유 입력
  2. 취소 확인
  3. 취소 완료 알림

## 💝 후원 관리

### 내 후원 내역
- **후원 목록**
  - 후원 일자
  - 후원 금액
  - 후원 유형 (일시/정기)
  - 결제 방법
  - 상태

- **후원 통계**
  - 총 후원 금액
  - 후원 횟수
  - 평균 후원액
  - 후원 기간

### 정기 후원 관리
- **정기 후원 정보**
  - 후원 주기 (매월/매년)
  - 후원 금액
  - 다음 결제일
  - 자동 결제 수단

- **변경 가능 항목**
  - 후원 금액 변경
  - 결제 수단 변경
  - 후원 일시 정지
  - 후원 해지

### 후원 증서
- **발급 조건**
  - 후원 완료 건
  - 연간 후원 증서

- **증서 내용**
  - 후원자 정보
  - 후원 금액
  - 후원 일자
  - 기관 직인

### 세금 공제
- **기부금 영수증**
  - 국세청 연말정산 간소화 자료 제공
  - PDF 다운로드
  - 이메일 발송

## 📝 게시판 활동

### 댓글 작성
- **작성 가능 게시판**
  - 공지사항 (읽기 전용)
  - 뉴스 ✅
  - 칼럼 ✅
  - 자료실 ✅

- **댓글 기능**
  - 작성/수정/삭제
  - 대댓글
  - 추천/비추천 (향후 구현)

### 내가 쓴 댓글
- 댓글 목록
- 원글 바로가기
- 댓글 관리 (수정/삭제)

### 북마크/스크랩 (향후 구현)
- 관심 게시물 저장
- 폴더별 분류
- 태그 관리

## 📧 알림 센터

### 알림 유형
1. **시스템 알림**
   - 비밀번호 변경
   - 로그인 알림
   - 계정 상태 변경

2. **상담 알림**
   - 상담 접수 확인
   - 상담 답변 등록
   - 상담 상태 변경

3. **후원 알림**
   - 후원 완료
   - 정기 후원 결제
   - 후원 증서 발급

4. **게시판 알림**
   - 댓글 답글
   - 공지사항

### 알림 관리
- 읽음/안읽음 표시
- 알림 삭제
- 전체 읽음 처리
- 알림 설정 바로가기

## 🔒 보안 기능

### 로그인 보안
- **2단계 인증** (향후 구현)
  - SMS 인증
  - 이메일 인증
  - OTP 앱

- **로그인 기록**
  - 최근 로그인 이력 (10건)
  - IP 주소
  - 접속 기기
  - 접속 시간

### 개인정보 보호
- **정보 열람 제한**
  - 본인 정보만 열람 가능
  - 민감 정보 마스킹

- **데이터 다운로드** (향후 구현)
  - 개인정보 이용 내역
  - 활동 기록 다운로드

## 📊 회원 활동 통계

### 개인 통계
- **활동 지수**
  - 로그인 빈도
  - 게시판 활동
  - 상담 이용률
  - 후원 참여도

- **기여도**
  - 댓글 작성 수
  - 후원 금액
  - 커뮤니티 활동

## 🎁 혜택 및 포인트 (향후 구현)

### 회원 등급
| 등급 | 조건 | 혜택 |
|------|------|------|
| 일반 | 가입 완료 | 기본 서비스 |
| 실버 | 6개월 이상 | 상담 우선 배정 |
| 골드 | 1년 이상 + 활동 | 특별 자료 제공 |
| VIP | 후원자 | 전용 서비스 |

### 포인트 시스템
- **적립**
  - 로그인: 10P
  - 댓글 작성: 5P
  - 추천 받기: 3P

- **사용**
  - 자료 다운로드
  - 프리미엄 콘텐츠
  - 기념품 교환

## 🔄 회원 탈퇴

### 탈퇴 프로세스
1. 탈퇴 신청
2. 탈퇴 사유 입력 (선택)
3. 비밀번호 재확인
4. 주의사항 동의
5. 탈퇴 처리

### 탈퇴 시 처리사항
- **즉시 삭제**
  - 로그인 정보
  - 개인정보
  - 활동 기록

- **보존 데이터** (법적 의무)
  - 후원 기록 (5년)
  - 상담 기록 (3년)
  - 탈퇴 기록 (3년)

### 재가입 정책
- 탈퇴 후 30일 이내: 복구 가능
- 30일 이후: 신규 가입

## 📱 모바일 앱 연동 (향후 구현)

### 앱 전용 기능
- 푸시 알림
- 생체 인증 로그인
- 오프라인 모드
- QR 코드 스캔

### 데이터 동기화
- 실시간 동기화
- 충돌 해결
- 백업/복구

---

*최종 업데이트: 2024년 10월 14일*