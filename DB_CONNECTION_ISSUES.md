# DB 연결 및 UI 연동 이슈 리스트

## 완료된 작업 ✅

### 보안 이슈
- ✅ test-mysql API의 하드코딩된 DB 연결 정보를 환경변수로 변경

### UI 컴포넌트 DB 연동
- ✅ MainBanner 컴포넌트 DB 연동 완료
- ✅ LatestNews 컴포넌트 DB 연동 완료
- ✅ QuickLinks 컴포넌트 DB 연동 완료
- ✅ ConsultationBanner 통계 데이터 연동 완료
- ✅ FinancialReport 컴포넌트 DB 연동 완료

### 아키텍처 개선
- ✅ 모든 Use Case를 tsyringe container에 등록 완료

## 1. 환경 설정 이슈

### 1.1 로컬 DB 연결 설정
- **문제**: localhost:3307 포트로 MySQL에 연결하고 있으나, SSH 터널링 설정이 필요할 수 있음
- **위치**: `.env.local`
- **현재상태**: DATABASE_URL이 localhost:3307로 설정됨
- **우선순위**: 🟡 중간

## 2. 남은 작업 - 데이터 시딩

### 2.1 초기 데이터 입력
- **문제**: DB에 데이터가 없어 UI에 기본값만 표시됨
- **필요한 데이터**:
  - MainBanner: 메인 배너 3-5개
  - Categories: 공지사항(notice), 토브소식(news) 등 기본 카테고리
  - Posts: 각 카테고리별 샘플 게시글
  - QuickLinks: 주요 서비스 링크 6개
  - FinancialReport: 최신 재정 보고서 1개
- **해결방안**: 시드 스크립트 실행 또는 관리자 페이지에서 데이터 입력
- **우선순위**: 🟠 높음

## 3. 아키텍처 일관성 이슈

### 3.1 의존성 주입 방식 불일치
- **문제**: Auth API는 자체 Container 사용, 나머지는 tsyringe 사용
- **위치**: 
  - Auth: `src/app/api/auth/*/route.ts`
  - 나머지: `src/app/api/*/route.ts`
- **해결방안**: 전체적으로 tsyringe로 통일
- **우선순위**: 🟢 낮음

### 3.2 데이터 페칭 전략 불일치
- **문제**: 일부는 서버 컴포넌트, 일부는 클라이언트 컴포넌트 사용
- **해결방안**: 
  - 초기 로딩이 필요한 데이터: 서버 컴포넌트
  - 사용자 상호작용이 필요한 데이터: 클라이언트 컴포넌트
- **우선순위**: 🟡 중간

## 4. 성능 최적화 이슈

### 4.1 캐싱 전략 부재
- **문제**: 자주 변경되지 않는 데이터도 매번 DB에서 조회
- **영향 범위**: MainBanner, QuickLinks, Categories 등
- **해결방안**: 
  1. Next.js `revalidate` 옵션 활용
  2. Redis 캐싱 도입 검토
- **우선순위**: 🟡 중간

### 4.2 N+1 쿼리 문제 가능성
- **문제**: Post 조회 시 관련 데이터(Category, User) 개별 조회 가능성
- **해결방안**: Prisma `include` 옵션 활용
- **우선순위**: 🟡 중간

## 5. 개발 환경 이슈

### 5.1 개발 서버 포트 설정
- **문제**: 개발 서버가 3004 포트 사용 (일반적이지 않음)
- **위치**: `package.json`
- **해결방안**: 환경변수로 포트 설정 가능하도록 수정
- **우선순위**: 🟢 낮음

## 요약

### 높은 우선순위 (🟠)
1. DB에 초기 데이터 시딩 필요

### 중간 우선순위 (🟡)
1. 캐싱 전략 도입
2. 데이터 페칭 전략 일관성 확보
3. N+1 쿼리 최적화

### 낮은 우선순위 (🟢)
1. 의존성 주입 방식 통일
2. 개발 서버 포트 설정 개선